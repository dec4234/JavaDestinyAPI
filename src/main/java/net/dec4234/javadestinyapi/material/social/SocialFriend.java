package net.dec4234.javadestinyapi.material.social;

import com.google.gson.JsonObject;

import java.util.Date;

public class SocialFriend {

    // Outer
    private String id, bungieGlobalDisplayName;
    private int membershipType, bungieGlobalDisplayNameCode, onlineStatus, onlineTitle, relationship;

    // Bungie Net User
    private String bungieNetId, uniqueName, displayName, successMessageFlags, about, locale, profilePicturePath, profileThemeName, userTitleDisplay, statusText;
    private int profilePicture, profileTheme, userTitle;
    private boolean isDeleted, showActivity, localeInheritDefault, showGroupMessaging;
    private Date firstAccess, lastUpdate, statusDate;
    private String steamDisplayName, blizzardDisplayName, stadiaDisplayName, xboxDisplayName, psnDisplayName; // Null by default unless found in the response, could have any combo


    // Context
    private boolean isFollowing, isIgnored;
    private int ignoreFlags;

    public SocialFriend(JsonObject jsonObject) {
        JsonObject bungieNetUser = jsonObject.getAsJsonObject("bungieNetUser");

        id = jsonObject.get("lastSeenAsMembershipId").getAsString();
        membershipType = jsonObject.get("lastSeenAsBungieMembershipType").getAsInt();
        bungieGlobalDisplayName = jsonObject.get("bungieGlobalDisplayName").getAsString();
        bungieGlobalDisplayNameCode = jsonObject.get("bungieGlobalDisplayNameCode").getAsInt();

        onlineStatus = jsonObject.get("onlineStatus").getAsInt();
        onlineTitle = jsonObject.get("onlineTitle").getAsInt();
        relationship = jsonObject.get("relationship").getAsInt();

        bungieNetId = bungieNetUser.get("membershipId").getAsString();
        uniqueName = bungieNetUser.get("displayName").getAsString();
        profilePicture = bungieNetUser.get("profilePicture").getAsInt();
        profileTheme = bungieNetUser.get("profileTheme").getAsInt();
    }
}

/*
{"Response":{"friends":[{"lastSeenAsMembershipId":"4611686018467335984","lastSeenAsBungieMembershipType":3,"bungieGlobalDisplayName":"Wertesse","bungieGlobalDisplayNameCode":4231,"onlineStatus":0,"onlineTitle":0,"relationship":1,"bungieNetUser":{"membershipId":"4047006","uniqueName":"Wertesse#4231","displayName":"Wertesse","profilePicture":70533,"profileTheme":6,"userTitle":0,"successMessageFlags":"8","isDeleted":false,"about":"0b6f70c8","firstAccess":"2013-10-09T19:45:31.861Z","lastUpdate":"2021-11-12T01:14:22.989Z","context":{"isFollowing":false,"ignoreStatus":{"isIgnored":false,"ignoreFlags":0}},"psnDisplayName":"Wertesse","xboxDisplayName":"Wertesse","showActivity":true,"locale":"en","localeInheritDefault":true,"showGroupMessaging":true,"profilePicturePath":"/img/profile/avatars/bungieday_11.jpg","profileThemeName":"d2cover","userTitleDisplay":"Newbie","statusText":"","statusDate":"0001-01-01T00:00:00Z","blizzardDisplayName":"Wertesse","steamDisplayName":"Wertesse","stadiaDisplayName":"Wertesse","cachedBungieGlobalDisplayName":"Wertesse","cachedBungieGlobalDisplayNameCode":4231}},{"lastSeenAsMembershipId":"4611686018475577660","lastSeenAsBungieMembershipType":3,"bungieGlobalDisplayName":"MagicTaco","bungieGlobalDisplayNameCode":6492,"onlineStatus":0,"onlineTitle":0,"relationship":1,"bungieNetUser":{"membershipId":"11420910","uniqueName":"MagicTaco#6492","displayName":"MagicTaco","profilePicture":70589,"profileTheme":1103,"userTitle":0,"successMessageFlags":"8","isDeleted":false,"about":"","firstAccess":"2015-08-11T03:07:39.073Z","lastUpdate":"2022-02-28T21:36:24.871Z","context":{"isFollowing":false,"ignoreStatus":{"isIgnored":false,"ignoreFlags":0}},"showActivity":true,"locale":"en","localeInheritDefault":false,"showGroupMessaging":true,"profilePicturePath":"/img/profile/avatars/bungie_day_15_02.jpg","profileThemeName":"d2_03","userTitleDisplay":"Newbie","statusText":"","statusDate":"0001-01-01T00:00:00Z","blizzardDisplayName":"Magictaco55","steamDisplayName":"MagicTaco","cachedBungieGlobalDisplayName":"MagicTaco","cachedBungieGlobalDisplayNameCode":6492}},{"lastSeenAsMembershipId":"4611686018511450218","lastSeenAsBungieMembershipType":3,"bungieGlobalDisplayName":"DIOSCABINET","bungieGlobalDisplayNameCode":2143,"onlineStatus":0,"onlineTitle":0,"relationship":1,"bungieNetUser":{"membershipId":"27343616","uniqueName":"DIOSCABINET#2143","displayName":"DIOSCABINET","profilePicture":70069,"profileTheme":1130,"userTitle":0,"successMessageFlags":"0","isDeleted":false,"about":"","firstAccess":"2021-01-07T10:28:55.813Z","lastUpdate":"2021-03-02T13:11:01.154Z","context":{"isFollowing":false,"ignoreStatus":{"isIgnored":false,"ignoreFlags":0}},"xboxDisplayName":"DIOSCABINET","showActivity":true,"locale":"en","localeInheritDefault":false,"showGroupMessaging":true,"profilePicturePath":"/img/profile/avatars/h3_icon.gif","profileThemeName":"d2_30","userTitleDisplay":"Newbie","statusText":"","statusDate":"0001-01-01T00:00:00Z","steamDisplayName":"DIOSCABINET","cachedBungieGlobalDisplayName":"DIOSCABINET","cachedBungieGlobalDisplayNameCode":2143}},{"lastSeenAsMembershipId":"4611686018467307956","lastSeenAsBungieMembershipType":3,"bungieGlobalDisplayName":"RarePepe","bungieGlobalDisplayNameCode":3185,"onlineStatus":1,"onlineTitle":2,"relationship":1,"bungieNetUser":{"membershipId":"14950176","uniqueName":"RarePepe#3185","displayName":"RarePepe","profilePicture":0,"profileTheme":0,"userTitle":0,"successMessageFlags":"0","isDeleted":false,"about":"","firstAccess":"2017-07-14T16:00:53.342Z","lastUpdate":"2019-08-20T20:12:33.326Z","context":{"isFollowing":false,"ignoreStatus":{"isIgnored":false,"ignoreFlags":0}},"showActivity":true,"locale":"en","localeInheritDefault":false,"showGroupMessaging":true,"profilePicturePath":"/img/profile/avatars/default_avatar.gif","profileThemeName":"d2cover","userTitleDisplay":"Newbie","statusText":"","statusDate":"0001-01-01T00:00:00Z","blizzardDisplayName":"RarePePe","steamDisplayName":"RarePepe","cachedBungieGlobalDisplayName":"RarePepe","cachedBungieGlobalDisplayNameCode":3185}},{"lastSeenAsMembershipId":"4611686018429577316","lastSeenAsBungieMembershipType":1,"bungieGlobalDisplayName":"MeatballGG","bungieGlobalDisplayNameCode":1711,"onlineStatus":1,"onlineTitle":2,"relationship":1,"bungieNetUser":{"membershipId":"13319567","uniqueName":"MeatballGG#1711","displayName":"MeatballGG","profilePicture":70637,"profileTheme":1103,"userTitle":0,"successMessageFlags":"0","isDeleted":false,"about":"","firstAccess":"2016-05-20T23:49:50.334Z","lastUpdate":"2021-09-16T18:31:28.274Z","context":{"isFollowing":false,"ignoreStatus":{"isIgnored":false,"ignoreFlags":0}},"psnDisplayName":"ItalagMD","xboxDisplayName":"ItalagPhD","showActivity":true,"locale":"en","localeInheritDefault":false,"showGroupMessaging":true,"profilePicturePath":"/img/profile/avatars/cc06.jpg","profileThemeName":"d2_03","userTitleDisplay":"Newbie","statusText":"","statusDate":"0001-01-01T00:00:00Z","steamDisplayName":"MeatballGG","stadiaDisplayName":"ItalagPhD#2924","twitchDisplayName":"italagphd","cachedBungieGlobalDisplayName":"MeatballGG","cachedBungieGlobalDisplayNameCode":1711}},{"lastSeenAsMembershipId":"4611686018430111996","lastSeenAsBungieMembershipType":1,"bungieGlobalDisplayName":"Etho","bungieGlobalDisplayNameCode":880,"onlineStatus":0,"onlineTitle":0,"relationship":1,"bungieNetUser":{"membershipId":"12955985","uniqueName":"Etho#880","displayName":"Etho","profilePicture":70652,"profileTheme":111,"userTitle":0,"successMessageFlags":"32","isDeleted":false,"about":"","firstAccess":"2016-02-20T16:54:10.195Z","lastUpdate":"2020-06-04T20:01:39.915Z","context":{"isFollowing":false,"ignoreStatus":{"isIgnored":false,"ignoreFlags":0}},"psnDisplayName":"heavenly_sl","xboxDisplayName":"ER 3RR","showActivity":true,"locale":"en","localeInheritDefault":false,"showGroupMessaging":true,"profilePicturePath":"/img/profile/avatars/cc22.jpg","profileThemeName":"d2cover","userTitleDisplay":"Newbie","statusText":"To much core not enough muscle","statusDate":"2017-01-10T22:46:47.29Z","steamDisplayName":"Etho","cachedBungieGlobalDisplayName":"Etho","cachedBungieGlobalDisplayNameCode":880}},{"lastSeenAsMembershipId":"4611686018503453178","lastSeenAsBungieMembershipType":3,"bungieGlobalDisplayName":"MyLittleCocky","bungieGlobalDisplayNameCode":2781,"onlineStatus":0,"onlineTitle":0,"relationship":1,"bungieNetUser":{"membershipId":"25599365","uniqueName":"25599365","displayName":"MyLittleCocky","profilePicture":0,"profileTheme":0,"userTitle":0,"successMessageFlags":"0","isDeleted":false,"about":"","firstAccess":"2020-05-15T06:15:15.214Z","lastUpdate":"2020-05-15T06:15:15.214Z","context":{"isFollowing":false,"ignoreStatus":{"isIgnored":false,"ignoreFlags":0}},"xboxDisplayName":"FR MOULD","showActivity":true,"locale":"en","localeInheritDefault":false,"showGroupMessaging":true,"profilePicturePath":"/img/profile/avatars/default_avatar.gif","profileThemeName":"d2cover","userTitleDisplay":"Newbie","statusText":"","statusDate":"0001-01-01T00:00:00Z","steamDisplayName":"MyLittleCocky"}},{"lastSeenAsMembershipId":"4611686018473535234","lastSeenAsBungieMembershipType":3,"bungieGlobalDisplayName":"Hydro_Neck","bungieGlobalDisplayNameCode":3789,"onlineStatus":0,"onlineTitle":0,"relationship":1,"bungieNetUser":{"membershipId":"18117827","uniqueName":"Hydro_Neck#3789","displayName":"Hydro_Neck","profilePicture":70700,"profileTheme":1125,"userTitle":0,"successMessageFlags":"0","isDeleted":false,"about":"","firstAccess":"2018-05-27T02:40:00.451Z","lastUpdate":"2019-09-05T04:48:38.525Z","context":{"isFollowing":false,"ignoreStatus":{"isIgnored":false,"ignoreFlags":0}},"psnDisplayName":"Hydro_Neck","xboxDisplayName":"KnavishHorizon1","showActivity":true,"locale":"en","localeInheritDefault":false,"showGroupMessaging":true,"profilePicturePath":"/img/profile/avatars/cc72.jpg","profileThemeName":"d2_25","userTitleDisplay":"Newbie","statusText":"","statusDate":"0001-01-01T00:00:00Z","blizzardDisplayName":"HydroNeck#1482","steamDisplayName":"Hydro_Neck","twitchDisplayName":"hydro_neck","cachedBungieGlobalDisplayName":"Hydro_Neck","cachedBungieGlobalDisplayNameCode":3789}},{"lastSeenAsMembershipId":"4611686018470828611","lastSeenAsBungieMembershipType":3,"bungieGlobalDisplayName":"SJ","bungieGlobalDisplayNameCode":7821,"onlineStatus":0,"onlineTitle":0,"relationship":1,"bungieNetUser":{"membershipId":"16619921","uniqueName":"16619921","displayName":"SJD","profilePicture":70516,"profileTheme":1119,"userTitle":0,"successMessageFlags":"0","isDeleted":false,"about":"","firstAccess":"2017-10-24T23:44:02.897Z","lastUpdate":"2021-09-04T20:56:14.075Z","context":{"isFollowing":false,"ignoreStatus":{"isIgnored":false,"ignoreFlags":0}},"showActivity":false,"locale":"en","localeInheritDefault":false,"showGroupMessaging":true,"profilePicturePath":"/img/profile/avatars/Destiny25.jpg","profileThemeName":"d2_19","userTitleDisplay":"Newbie","statusText":"","statusDate":"0001-01-01T00:00:00Z","blizzardDisplayName":"SJD","steamDisplayName":"SJ","cachedBungieGlobalDisplayName":""}}]},"ErrorCode":1,"ThrottleSeconds":0,"ErrorStatus":"Success","Message":"Ok","MessageData":{}}
 */